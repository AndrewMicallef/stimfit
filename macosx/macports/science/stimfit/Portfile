# $Id$

PortSystem          1.0

name                stimfit
version             0.11.4
categories          science
platforms           darwin
license             GPL
maintainers         gmx.de:christsc
description         Electrophysiology analysis suite
long_description    A program for viewing and analyzing electrophysiological data
homepage            http://www.stimfit.org
master_sites        https://stimfit.googlecode.com/files/

checksums           rmd160  f872a4f14a2fa47ac6595425db26ffdde58c4b9d \
                    sha256  9cf6dc74f4202d6054a2ef6ccff28e8d8b7f1d12b53b6521594b4b8806f40ac5

universal_variant   no

supported_archs     x86_64
 
depends_lib         port:boost \
                    port:fftw-3 \
                    port:hdf5-18 \
                    port:wxWidgets30 \
                    port:swig-python

variant python27 description {Use Python version 2.7} {
    depends_lib-append \
        port:python27 \
        port:py27-wxpython30 \
        port:py27-numpy \
        port:py27-matplotlib

    configure.python \
        ${prefix}/bin/python2.7
}

configure.args      --with-wx-config=${prefix}/bin/wx-config \
                    --disable-dependency-tracking \
                    CC="`${prefix}/bin/wx-config --cc`" \
                    CXX="`${prefix}/bin/wx-config --cxx`" \
                    LD="`${prefix}/bin/wx-config --ld`"

configure.ldflags-append \
                    -headerpad_max_install_names

if {![variant_isset python27]} {
    default_variants +python27
}

destroot.destdir    DESTDIR=${destroot}${applications_dir}
