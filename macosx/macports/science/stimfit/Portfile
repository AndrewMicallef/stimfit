# $Id$

PortSystem          1.0

name                stimfit
version             0.11.2
categories          science
platforms           darwin
license             GPL
maintainers         christsc
description         Electrophysiology analysis suite
long_description    A program for viewing and analyzing electrophysiological data
homepage            http://www.stimfit.org
master_sites        file:///Users/cs/stimfit/build/release \
                    https://stimfit.googlecode.com/files/

checksums           rmd160  75a237566ff12f5dd72b3c1e8721139c988c0818 \
                    sha256  ba5ce632e8aec7829728dfb4ed70edd754b41d29025347fc586673e21f147689

universal_variant   no

supported_archs     x86_64
 
depends_lib         port:python27 \
                    port:boost \
                    port:fftw-3 \
                    port:hdf5-18 \
                    port:wxWidgets-devel \
                    port:py27-wxpython-devel \
                    port:py27-numpy \
                    port:py27-matplotlib

configure.args      --with-wx-config=/opt/local/bin/wx-config \
                    --disable-dependency-tracking \
                    --disable-shave \
                    CPPFLAGS="-DH5_USE_16_API" \
                    CFLAGS="" \
                    CXXFLAGS="-I/opt/local/include" \
                    LDFLAGS="-headerpad_max_install_names -L/opt/local/lib -L/usr/lib" \
                    PYTHON=/opt/local/bin/python2.7 \
                    CC="`/opt/local/bin/wx-config --cc`" \
                    CXX="`/opt/local/bin/wx-config --cxx`" \
                    LD="`/opt/local/bin/wx-config --ld`"

destroot {
        set appPath ${destroot}/Applications/MacPorts
        xinstall -d ${appPath}
        file copy stimfit.app ${appPath}
}
