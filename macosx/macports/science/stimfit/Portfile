# $Id$

PortSystem          1.0

name                stimfit
version             0.11.4
categories          science
platforms           darwin
license             GPL
maintainers         gmx.de:christsc
description         Electrophysiology analysis suite
long_description    A program for viewing and analyzing electrophysiological data
homepage            http://www.stimfit.org
master_sites        https://stimfit.googlecode.com/files/

checksums           rmd160  af6f69b2751de38c573e226ebbc3e0de84a3e10a \
                    sha256  b579960b1c2de3ce33abb71e83c177f41ee7c5d13a21dabd440460e45245a152

universal_variant   no

supported_archs     x86_64
 
depends_lib         port:boost \
                    port:fftw-3 \
                    port:hdf5-18 \
                    port:wxWidgets-devel

variant python26 description {Use Python version 2.6} {
    depends_lib-append \
        port:python26 \
        port:py26-wxpython-devel \
        port:py26-numpy \
        port:py26-matplotlib

    configure.python \
        ${prefix}/bin/python2.6
}

variant python27 description {Use Python version 2.7} {
    depends_lib-append \
        port:python27 \
        port:py27-wxpython-devel \
        port:py27-numpy \
        port:py27-matplotlib

    configure.python \
        ${prefix}/bin/python2.7
}

configure.args      --with-wx-config=${prefix}/bin/wx-config \
                    --disable-dependency-tracking \
                    --disable-shave \
                    CC="`${prefix}/bin/wx-config --cc`" \
                    CXX="`${prefix}/bin/wx-config --cxx`" \
                    LD="`${prefix}/bin/wx-config --ld`"

configure.ldflags-append \
                    -headerpad_max_install_names

if {![variant_isset python27]} {
    default_variants +python27
}

destroot.destdir    DESTDIR=${destroot}${applications_dir}
