# $Id$

PortSystem          1.0

name                stimfit
version             0.11.2
categories          science
platforms           darwin
license             GPL
maintainers         gmx.de:christsc
description         Electrophysiology analysis suite
long_description    A program for viewing and analyzing electrophysiological data
homepage            http://www.stimfit.org
master_sites        https://stimfit.googlecode.com/files/

checksums           rmd160  d334ed564717a5d9892cbb0efca21b178e43caab \
                    sha256  6dc7364d2472322caadd443db54242d699edaef72ccbe81257d084eb08d7c82b

universal_variant   no

supported_archs     x86_64
 
depends_lib         port:python27 \
                    port:boost \
                    port:fftw-3 \
                    port:hdf5-18 \
                    port:wxWidgets-devel \
                    port:py27-wxpython-devel \
                    port:py27-numpy \
                    port:py27-matplotlib

configure.args      --with-wx-config=${prefix}/bin/wx-config \
                    --disable-dependency-tracking \
                    --disable-shave \
                    CPPFLAGS="-DH5_USE_16_API" \
                    CFLAGS="" \
                    CXXFLAGS="-I${prefix}/include" \
                    LDFLAGS="-headerpad_max_install_names -L${prefix}/lib -L/usr/lib" \
                    PYTHON=${prefix}/bin/python2.7 \
                    CC="`${prefix}/bin/wx-config --cc`" \
                    CXX="`${prefix}/bin/wx-config --cxx`" \
                    LD="`${prefix}/bin/wx-config --ld`"

post-destroot {
        set appPath ${destroot}/Applications/MacPorts
        xinstall -d ${appPath}
        file copy ${worksrcpath}/stimfit.app ${appPath}
}
